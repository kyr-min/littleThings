<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base Conversion</title>
    <script>
        let decPnt = false;
        
        const chngDecPntSttng = (ckbx) => {
            decPnt=ckbx.checked;
        }

        const createQuestionInfo = (base) => {
            const randNum = createRndNum(1000);
            
            return { num: randNum.toString(base), base };
        }

        const createRndNum = (max, min=0, pnt= 1) => {
            return Math.floor((Math.random() * max +min) * (pnt)) / pnt
        }

        const convert = () => {
            const num = prompt(`number: `);
            const base = parseInt(prompt(`base: `));
            const toBase = parseInt(prompt(`to: `));

            alert(`${num} [${base}] -> \n ${convertBase(num, base, toBase)} [${toBase}]`)
        }

        const convertBase = (num, fromBase, toBase) => {
            const decimal = (num % 1 != 0) ? parseFloat(num, fromBase): parseInt(num, fromBase);

            return decimal.toString(toBase);
        }

        const createQuestion = () => {
            // const questionInfo = {num: 330, base: 9};
            // const toBase = 10;

            const questionInfo = createQuestionInfo(createRndNum(16, 1));
            const toBase = createRndNum(16,1);

            const ans = convertBase(questionInfo.num, questionInfo.base, toBase);

            const userAns = prompt(`${questionInfo.num} [${questionInfo.base}]  -> ${toBase}`);
            if (userAns == ans || userAns == ans.toUpperCase) {
                alert("Correct!");
            } else {
                alert(`Wrong! The answer was ${ans}`)
            }
        }
    </script>
</head>

<body>
    <h1 onClick="createQuestion()">Click this to practice base conversion</h1>
    <br/>
    <h1 onClick="convert()">Convert into n-base</h1>
    <!-- 소수 활성화:<input type="checkbox" name="decimalPoint" id="enableDecPnt" onchange="chngDecPntSttng(this)"> -->
</body>

</html>
