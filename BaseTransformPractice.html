<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base Transform Trainer</title>
    <script>
        let decPnt = false;
        
        const chngDecPntSttng = (ckbx) => {
            decPnt=ckbx.checked;
        }

        const createQuestionInfo = (base) => {
            const randNum = !decPnt ? createRndNum(1000): createRndNum(99, 0, 100);
            
            return { num: randNum.toString(base), base };
        }

        const createRndNum = (max, min=0, pnt= 1) => {
            return Math.floor((Math.random() * max +min) * (pnt)) / pnt
        }

        const convertBase = (num, fromBase, toBase) => {
            const decimal = parseInt(num, fromBase);

            return decimal.toString(toBase);
        }

        const createQuestion = () => {
            // const questionInfo = {num: 330, base: 9};
            // const toBase = 10;

            const questionInfo = createQuestionInfo(createRndNum(16, 1));
            const toBase = createRndNum(16,1);

            const ans = convertBase(questionInfo.num, questionInfo.base, toBase)

            const userAns = prompt(`${questionInfo.num} [${questionInfo.base}]  -> ${toBase}`);
            if (userAns == ans || userAns == ans.toUpperCase) {
                alert("Correct!");
            } else {
                alert(`Wrong! The answer was ${ans}`)
            }
        }
    </script>
</head>

<body>
    <h1 onClick="createQuestion()">Click this to Practice</h1>
    <!-- 소수 활성화:<input type="checkbox" name="decimalPoint" id="enableDecPnt" onchange="chngDecPntSttng(this)"> -->
</body>

</html>
